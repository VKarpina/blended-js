{"version":3,"file":"index.js","sources":["../src/js/UnsplashAPI.js","../src/js/renderFunction.js","../src/js/gallery.js"],"sourcesContent":["import axios from 'axios';\n\nclass UnsplashAPI {\n\t#BASE_URL = 'https://api.unsplash.com/search/photos';\n\t#API_KEY = 'gcevo00lZKvSMKLnZZJPKYS5xNbpbsP_4i6E-BVlG58';\n\t#query = '';\n\n\tasync fetchPopularPhotos(page) {\n\t\tconst url = `${\n\t\t\tthis.#BASE_URL\n\t\t}?query=popular&page=${page}&per_page=12&orientation=portrait&client_id=${this.#API_KEY}`;\n\n\t\ttry {\n\t\t\tconst { data } = await axios(url);\n\t\t\treturn data;\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t}\n\tasync fetchPhotosByQuery(page) {\n\t\tconst url = `${this.#BASE_URL}?query=${\n\t\t\tthis.#query\n\t\t}&page=${page}&per_page=12&orientation=portrait&client_id=${this.#API_KEY}`;\n\n\t\ttry {\n\t\t\tconst { data } = await axios(url);\n\t\t\treturn data;\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t}\n\tset query(newQuery) {\n\t\tthis.#query = newQuery;\n\t}\n}\n\nexport default UnsplashAPI;\n","export default function renderFunction(array, gallery) {\n\tlet HTML = '';\n\tarray.forEach(({ urls: { small }, alt_description }) => {\n\t\tHTML += `<li class=\"gallery__item\"><img class=\"gallery-img\" src=\"${small}\" alt=\"${alt_description}\"></li>`;\n\t});\n\tgallery.innerHTML = HTML;\n}\n","import UnsplashAPI from './UnsplashAPI';\nimport renderFunction from './renderFunction';\nimport Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.min.css';\n\nconst api = new UnsplashAPI();\nconst gallery = document.querySelector('.gallery');\nconst form = document.querySelector('.search-form');\n\nconst container = document.getElementById('tui-pagination-container');\nconst pagination = new Pagination(container, {\n\ttotalItems: 0,\n\titemsPerPage: 12,\n\tvisiblePages: 5,\n\tpage: 1,\n});\n\nconst page = pagination.getCurrentPage();\n\napi.fetchPopularPhotos(page).then(data => {\n\tconsole.log(data);\n\tpagination.reset(data.total);\n\trenderFunction(data.results, gallery);\n});\n\npagination.on('afterMove', event => {\n\tconst currentPage = event.page;\n\tapi.fetchPopularPhotos(currentPage).then(data => {\n\t\trenderFunction(data.results, gallery);\n\t});\n});\n\nform.addEventListener('submit', event => {\n\tevent.preventDefault();\n\tconst value = form.elements.query.value.trim();\n\tif (value === '') {\n\t\treturn;\n\t}\n\tapi.query = value;\n\tapi.fetchPhotosByQuery(page).then(data => {\n\t\trenderFunction(data.results, gallery);\n\t\tpagination.reset(data.total);\n\t});\n});\n"],"names":["UnsplashAPI","__privateAdd","_BASE_URL","_API_KEY","_query","page","url","__privateGet","data","axios","error","newQuery","__privateSet","renderFunction","array","gallery","HTML","small","alt_description","api","form","container","pagination","Pagination","event","currentPage","value"],"mappings":"klCAEA,MAAMA,CAAY,CAAlB,cACCC,EAAA,KAAAC,EAAY,0CACZD,EAAA,KAAAE,EAAW,+CACXF,EAAA,KAAAG,EAAS,IAET,MAAM,mBAAmBC,EAAM,CAC9B,MAAMC,EAAM,GACXC,EAAA,KAAKL,EACL,uBAAsBG,CAAI,+CAA+CE,EAAA,KAAKJ,EAAQ,GAEvF,GAAI,CACH,KAAM,CAAE,KAAAK,CAAM,EAAG,MAAMC,EAAMH,CAAG,EAChC,OAAOE,CACP,OAAQE,EAAO,CACf,QAAQ,IAAIA,CAAK,CACjB,CACD,CACD,MAAM,mBAAmBL,EAAM,CAC9B,MAAMC,EAAM,GAAGC,EAAA,KAAKL,EAAS,UAC5BK,EAAA,KAAKH,EACL,SAAQC,CAAI,+CAA+CE,EAAA,KAAKJ,EAAQ,GAEzE,GAAI,CACH,KAAM,CAAE,KAAAK,CAAM,EAAG,MAAMC,EAAMH,CAAG,EAChC,OAAOE,CACP,OAAQE,EAAO,CACf,QAAQ,IAAIA,CAAK,CACjB,CACD,CACD,IAAI,MAAMC,EAAU,CACnBC,EAAA,KAAKR,EAASO,EACd,CACF,CA/BCT,EAAA,YACAC,EAAA,YACAC,EAAA,YCLc,SAASS,EAAeC,EAAOC,EAAS,CACtD,IAAIC,EAAO,GACXF,EAAM,QAAQ,CAAC,CAAE,KAAM,CAAE,MAAAG,CAAK,EAAI,gBAAAC,KAAsB,CACvDF,GAAQ,2DAA2DC,CAAK,UAAUC,CAAe,SACnG,CAAE,EACDH,EAAQ,UAAYC,CACrB,CCDA,MAAMG,EAAM,IAAInB,EACVe,EAAU,SAAS,cAAc,UAAU,EAC3CK,EAAO,SAAS,cAAc,cAAc,EAE5CC,EAAY,SAAS,eAAe,0BAA0B,EAC9DC,EAAa,IAAIC,EAAWF,EAAW,CAC5C,WAAY,EACZ,aAAc,GACd,aAAc,EACd,KAAM,CACP,CAAC,EAEKhB,EAAOiB,EAAW,iBAExBH,EAAI,mBAAmBd,CAAI,EAAE,KAAKG,GAAQ,CACzC,QAAQ,IAAIA,CAAI,EAChBc,EAAW,MAAMd,EAAK,KAAK,EAC3BK,EAAeL,EAAK,QAASO,CAAO,CACrC,CAAC,EAEDO,EAAW,GAAG,YAAaE,GAAS,CACnC,MAAMC,EAAcD,EAAM,KAC1BL,EAAI,mBAAmBM,CAAW,EAAE,KAAKjB,GAAQ,CAChDK,EAAeL,EAAK,QAASO,CAAO,CACtC,CAAE,CACF,CAAC,EAEDK,EAAK,iBAAiB,SAAUI,GAAS,CACxCA,EAAM,eAAc,EACpB,MAAME,EAAQN,EAAK,SAAS,MAAM,MAAM,OACpCM,IAAU,KAGdP,EAAI,MAAQO,EACZP,EAAI,mBAAmBd,CAAI,EAAE,KAAKG,GAAQ,CACzCK,EAAeL,EAAK,QAASO,CAAO,EACpCO,EAAW,MAAMd,EAAK,KAAK,CAC7B,CAAE,EACF,CAAC"}