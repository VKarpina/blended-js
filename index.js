var d=t=>{throw TypeError(t)};var m=(t,e,r)=>e.has(t)||d("Cannot "+r);var i=(t,e,r)=>(m(t,e,"read from private field"),r?r.call(t):e.get(t)),u=(t,e,r)=>e.has(t)?d("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),P=(t,e,r,s)=>(m(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r);import{a as v,P as _}from"./assets/vendor-D_0-PuXV.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const h of n.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();var c,a,l;class ${constructor(){u(this,c,"https://api.unsplash.com/search/photos");u(this,a,"gcevo00lZKvSMKLnZZJPKYS5xNbpbsP_4i6E-BVlG58");u(this,l,"")}async fetchPopularPhotos(e){const r=`${i(this,c)}?query=popular&page=${e}&per_page=12&orientation=portrait&client_id=${i(this,a)}`;try{const{data:s}=await v(r);return s}catch(s){console.log(s)}}async fetchPhotosByQuery(e){const r=`${i(this,c)}?query=${i(this,l)}&page=${e}&per_page=12&orientation=portrait&client_id=${i(this,a)}`;try{const{data:s}=await v(r);return s}catch(s){console.log(s)}}set query(e){P(this,l,e)}}c=new WeakMap,a=new WeakMap,l=new WeakMap;function g(t,e){let r="";t.forEach(({urls:{small:s},alt_description:o})=>{r+=`<li class="gallery__item"><img class="gallery-img" src="${s}" alt="${o}"></li>`}),e.innerHTML=r}const p=new $,y=document.querySelector(".gallery"),L=document.querySelector(".search-form"),b=document.getElementById("tui-pagination-container"),f=new _(b,{totalItems:0,itemsPerPage:12,visiblePages:5,page:1}),q=f.getCurrentPage();p.fetchPopularPhotos(q).then(t=>{console.log(t),f.reset(t.total),g(t.results,y)});f.on("afterMove",t=>{const e=t.page;p.fetchPopularPhotos(e).then(r=>{g(r.results,y)})});L.addEventListener("submit",t=>{t.preventDefault();const e=L.elements.query.value.trim();e!==""&&(p.query=e,p.fetchPhotosByQuery(q).then(r=>{g(r.results,y),f.reset(r.total)}))});
//# sourceMappingURL=index.js.map
